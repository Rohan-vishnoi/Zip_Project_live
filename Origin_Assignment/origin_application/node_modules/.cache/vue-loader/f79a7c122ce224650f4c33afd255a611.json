{"remainingRequest":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\src\\views\\About.vue?vue&type=style&index=0&id=039c5b43&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\src\\views\\About.vue","mtime":1639290833720},{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\aviro\\OneDrive\\Documents\\GitHub\\Origin_Assignment\\origin_application\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNGaWxlVXBsb2FkIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7CiAgaGVpZ2h0OiAzN3ZoOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0ZXh0LWFsaWduOiByaWdodDsKICBvcGFjaXR5OiAwOwp9Cg=="},{"version":3,"sources":["About.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"About.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"about\">\n    <div style=\"height: 63vh; width: 100%\" class=\"file-container-wrapper\">\n      <h6>Drag and Drop file</h6>\n      <div>\n        <input type=\"file\" @change=\"zipmethods\" accept=\"application/zip\" />File\n        - Upload\n      </div>\n      <table>\n        <tr v-for=\"data in uploadData\" :key=\"data.url\">\n          <td><img :src=\"data.url\" /></td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n<script>\nimport JSZip from \"jszip\";\nimport * as Vue from 'vue' // in Vue 3\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nexport default {\n  name: \"About\",\n  data() {\n    return {\n      UploadFile: [],\n      showData: [],\n    };\n  },\n  methods: {\n    navigate() {\n      this.$router.push({ name: \"Home\" });\n    },\n    zipmethods(e) {\n      let file = e.target.files[0];\n\n      let formData = new FormData();\n\n      formData.append(\"zip\", file);\n\n      //csv of Perth is carried out on the server side.\n\n      //This time processing boldly thrown into the server-side every zip file. only the csv file you have to return to Perth.\n\n      const axiosPromise = this.$axios.post(\n        `${process.env.API_URL}/api/unzip/csv`,\n\n        formData\n      );\n\n      //image file name (path) from, set the regexp to get the file name other than the extension to the global\n\n      const regexpImgFile = /upload_dir\\/images\\/item\\d*\\.(jpg|png|gif)/;\n\n      const regexpImgName = /(item\\d*)\\.(jpg|png|gif)/; //to back reference to be able to get the previous extension is.\n\n      //the return value from the function of JSZip is adapted to Proise object.\n\n      const loadedZip = JSZip.loadAsync(file);\n\n      //retrieve the image from the zip file.\n\n      const imgFiles = loadedZip.then((zip) => {\n        return zip.file(regexpImgFile);\n      });\n\n      let imgDataMap = new Map();\n\n      const imgPromise = imgFiles.then((files) => {\n        files.map((zipf) => {\n          const imgFile = regexpImgFile.exec(zipf.name);\n\n          const imgName = regexpImgName.exec(imgFile)[1]; //since the return value and use a back-reference is returned in the Array Gets the previous than the extension to index specified\n\n          imgDataMap.set(imgName, zipf.async(\"blob\")); //[Img_name => PromiseObj] continue to set the Map of\n        });\n\n        return imgDataMap;\n      });\n\n      Promise.all([axiosPromise, imgPromise]).then(([axiosRes, imgRes]) => {\n        const showData = axiosRes.data; //API What's in assumed .apiResData an array of json is, [json, json ...] is in a state such as.\n\n        let imgPromises = [];\n\n        for (const i in showData) {\n          //API is and that it contains and \"item01\" to the value as item_id.\n\n          let imgBlobPromise = imgRes.get(showData[i].item_id);\n\n          const imgPromise = imgBlobPromise.then((imgBlob) => {\n            const imgUrl = URL.createObjectURL(imgBlob); //generate a url for use in the img tag from the Blob.\n\n            showData[i][\"img_url\"] = imgUrl; //'Img_url' storing imgUrl under the key\n          });\n\n          imgPromises.push(imgPromise);\n        }\n\n        //Among the above for, the value to get the url of the image will come back in Priomise,\n\n        //stored; //and sequenced the entire Promise, since the end contents of the array is processed all the showData to.\n\n        //If you do not do this, look on, display data is lost.\n\n        Promise.all(imgPromises).then(() => {\n          this.showData = showData;\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n#FileUpload {\n  width: 100%;\n  background-color: aliceblue;\n  height: 37vh;\n  position: relative;\n  text-align: right;\n  opacity: 0;\n}\n</style>\n"]}]}